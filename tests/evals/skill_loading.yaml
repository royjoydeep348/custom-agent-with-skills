name: skill_loading_verification

cases:
  - name: weather_basic_request
    inputs: "What's the weather in New York?"
    metadata:
      expected_skill: weather
      category: skill_loading
    evaluators:
      - SkillWasLoaded:
          skill_name: weather
      - ToolWasCalled:
          tool_name: load_skill_tool
      - ResponseNotEmpty:
          min_length: 50

  - name: weather_forecast_request
    inputs: "What's the forecast for London this week?"
    metadata:
      expected_skill: weather
      category: skill_loading
    evaluators:
      - SkillWasLoaded:
          skill_name: weather
      - ToolWasCalled:
          tool_name: http_get_tool
      - ResponseNotEmpty:
          min_length: 50

  - name: weather_temperature_query
    inputs: "How hot is it in Tokyo right now?"
    metadata:
      expected_skill: weather
      category: skill_loading
    evaluators:
      - SkillWasLoaded:
          skill_name: weather
      - ResponseNotEmpty:
          min_length: 50

  - name: code_review_basic
    inputs: "Please review this code for best practices: def add(a, b): return a + b"
    metadata:
      expected_skill: code_review
      category: skill_loading
    evaluators:
      - SkillWasLoaded:
          skill_name: code_review
      - ToolWasCalled:
          tool_name: load_skill_tool
      - ResponseNotEmpty:
          min_length: 100

  - name: code_review_security
    inputs: "Check this code for security issues: query = f'SELECT * FROM users WHERE id={user_id}'"
    metadata:
      expected_skill: code_review
      category: skill_loading
    evaluators:
      - SkillWasLoaded:
          skill_name: code_review
      - ResponseContains:
          text: sql

  # Research Assistant
  - name: research_basic_search
    inputs: "Find papers about deep learning"
    metadata:
      expected_skill: research_assistant
      category: skill_loading
    evaluators:
      - SkillWasLoaded:
          skill_name: research_assistant
      - ToolWasCalled:
          tool_name: load_skill_tool
      - ResponseNotEmpty:
          min_length: 50

  # Recipe Finder
  - name: recipe_basic_search
    inputs: "Find me a chicken recipe"
    metadata:
      expected_skill: recipe_finder
      category: skill_loading
    evaluators:
      - SkillWasLoaded:
          skill_name: recipe_finder
      - ToolWasCalled:
          tool_name: load_skill_tool
      - ResponseNotEmpty:
          min_length: 50

  # World Clock
  - name: world_clock_basic
    inputs: "What time is it in London?"
    metadata:
      expected_skill: world_clock
      category: skill_loading
    evaluators:
      - SkillWasLoaded:
          skill_name: world_clock
      - ToolWasCalled:
          tool_name: load_skill_tool
      - ResponseNotEmpty:
          min_length: 30

evaluators:
  - MaxDuration: 45.0
